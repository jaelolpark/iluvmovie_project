{"ast":null,"code":"var _jsxFileName = \"/Users/jaelolpark/Flatiron School/iluvmovie_project/frontend_iluvmovie/src/components/pages/SignInPage.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, Input } from 'semantic-ui-react';\nimport '../../stylesheets/FirstPage.css';\nimport { userLoginFetch, loginUser } from '../../actions/authActions';\nimport { connect } from 'react-redux';\n\nclass SignInPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      password: ''\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSignup = event => {\n      event.preventDefault();\n      handleNewUser(this.state.username, this.state.password).then(res => {\n        if (res.errors) {\n          alert(\"sorry, username has already been taken\");\n        } else {\n          getAuthToken({\n            username: this.state.username,\n            password: this.state.password\n          }).then(payload => {\n            localStorage.setItem('token', payload.jwt);\n            this.props.history.push('/cinepop');\n            this.props.setCurrentUser(payload.user.id);\n            getMovies().then(data => {\n              this.props.landMovies(data.results);\n            }).then(() => this.props.history.push(\"/welcome\"));\n            getFavorites(payload.user.id.toString()).then(data => {\n              this.props.setUserFavorites(data.movies);\n            });\n          }).then(this.setState({\n            username: '',\n            password: ''\n          }));\n        }\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"background-page\",\n      className: \"ui inverted vertical center aligned segment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(Form, {\n      id: \"signup\",\n      className: \"ui inverted form\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Sign-In\"), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(Input, {\n      icon: \"user\",\n      iconPosition: \"left\",\n      name: \"username\",\n      value: this.state.username,\n      placeholder: \"Username\",\n      type: \"text\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Input, {\n      icon: \"lock\",\n      iconPosition: \"left\",\n      name: \"password\",\n      value: this.state.password,\n      placeholder: \"Password\",\n      type: \"password\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    })), React.createElement(Button, {\n      className: \"submit-btn\",\n      color: \"red\",\n      type: \"submit\",\n      fluid: true,\n      size: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => ({\n  userLoginFetch: userInfo => dispatch(userLoginFetch(userInfo))\n});\n\nexport default connect(null, mapDispatchToProps)(SignInPage);","map":{"version":3,"sources":["/Users/jaelolpark/Flatiron School/iluvmovie_project/frontend_iluvmovie/src/components/pages/SignInPage.js"],"names":["React","Component","Button","Form","Input","userLoginFetch","loginUser","connect","SignInPage","state","username","password","handleChange","event","setState","target","name","value","handleSignup","preventDefault","handleNewUser","then","res","errors","alert","getAuthToken","payload","localStorage","setItem","jwt","props","history","push","setCurrentUser","user","id","getMovies","data","landMovies","results","getFavorites","toString","setUserFavorites","movies","render","handleSubmit","mapDispatchToProps","dispatch","userInfo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Button, Form, Input } from 'semantic-ui-react';\nimport '../../stylesheets/FirstPage.css'\nimport { userLoginFetch, loginUser } from '../../actions/authActions'\nimport { connect } from 'react-redux';\n\n\nclass SignInPage extends Component {\n  state = {\n    username: '',\n    password: ''\n  }\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value\n    })\n  }\n  handleSignup = (event) => {\n    event.preventDefault()\n    handleNewUser(this.state.username, this.state.password)\n    .then(res => {\n       if (res.errors) {\n          alert(\"sorry, username has already been taken\") \n       } else {\n          getAuthToken({ username: this.state.username, password: this.state.password})\n          .then(payload => {\n             localStorage.setItem('token', payload.jwt)\n             this.props.history.push('/cinepop')\n             this.props.setCurrentUser(payload.user.id)\n             getMovies()\n             .then((data) => {this.props.landMovies(data.results)})\n             .then(() => this.props.history.push(`/welcome`))\n             getFavorites(payload.user.id.toString())\n             .then(data => {this.props.setUserFavorites(data.movies)})\n             })\n          .then(this.setState({\n             username: '',\n             password: ''\n          }))\n       }\n    })\n  }\n\n  render() {\n    return (\n      <div id='background-page' className='ui inverted vertical center aligned segment'>\n        <Form id='signup' className=\"ui inverted form\" onSubmit={this.handleSubmit}>\n          <h1 className='title'>Sign-In</h1>\n          <Form.Field>\n            <Input icon='user' iconPosition='left' name=\"username\" value={this.state.username} placeholder=\"Username\" type=\"text\" onChange={this.handleChange} />\n          </Form.Field>\n          <Form.Field>\n            <Input icon='lock' iconPosition='left' name=\"password\" value={this.state.password} placeholder=\"Password\" type=\"password\" onChange={this.handleChange} />\n          </Form.Field>\n          <Button className='submit-btn' color='red' type='submit' fluid size='large'>Submit</Button>\n        </Form>\n\n  </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  userLoginFetch: userInfo => dispatch(userLoginFetch(userInfo))\n  })\n  \nexport default connect(null, mapDispatchToProps)(SignInPage);"]},"metadata":{},"sourceType":"module"}